<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transformada de Fourier: Guia R√°pido Din√¢mico</title>
    <!-- Inclui o Tailwind CSS para estiliza√ß√£o r√°pida e responsiva -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inclui a fonte Inter do Google Fonts para uma tipografia limpa -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Inclui o AOS CSS para anima√ß√µes ao rolar -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <style>
        /* Estilos base para o corpo e elementos principais */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #e0e7ff; /* Azul claro suave */
            color: #374151; /* Cor do texto principal */
            transition: background-color 0.5s ease, color 0.5s ease; /* Transi√ß√£o suave para dark mode */
        }

        /* Estilos para o modo escuro */
        html.dark body {
            background-color: #1a202c; /* Fundo escuro */
            color: #e2e8f0; /* Texto claro */
        }
        html.dark .section-title {
            color: #e2e8f0;
            border-bottom-color: #7c3aed; /* Roxo vibrante */
        }
        html.dark .subsection-title {
            color: #cbd5e1;
        }
        html.dark .formula {
            background-color: #2d3748; /* Fundo mais escuro para f√≥rmulas */
            color: #e2e8f0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        html.dark .nav-link:hover {
            background-color: #6d28d9; /* Roxo mais escuro no hover */
            color: white;
        }
        html.dark .active-nav-link {
            background-color: #7c3aed; /* Roxo vibrante para ativo */
            box-shadow: 0 4px 8px rgba(0,0,0,0.4);
        }
        html.dark .property-card {
            background-color: #2d3748; /* Fundo mais escuro para cards */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
        }
        html.dark .learn-more-content p, html.dark .step-content p {
            background-color: #4a5568; /* Fundo mais escuro para conte√∫do expandido */
            border-color: #6b46c1; /* Borda roxa */
        }
        html.dark .canvas-container canvas {
            background-color: #2d3748;
            border-color: #7c3aed;
            box-shadow: 0 5px 10px rgba(0,0,0,0.3);
        }
        html.dark .main-button {
            background-color: #7c3aed; /* Roxo para bot√µes */
            color: white;
        }
        html.dark .main-button:hover {
            background-color: #6b46c1; /* Roxo mais escuro no hover */
        }
        html.dark .example-button {
            background-color: #10b981; /* Verde esmeralda */
            color: white;
        }
        html.dark .example-button:hover {
            background-color: #059669; /* Verde esmeralda mais escuro */
        }
        html.dark .quiz-option {
            background-color: #4a5568; /* Fundo escuro para op√ß√µes do quiz */
            color: #e2e8f0;
            border-color: #6b46c1;
        }
        html.dark .quiz-option:hover {
            background-color: #6b46c1; /* Roxo no hover */
        }
        html.dark .quiz-option.correct {
            background-color: #065f46; /* Verde escuro */
            border-color: #34d399;
        }
        html.dark .quiz-option.incorrect {
            background-color: #991b1b; /* Vermelho escuro */
            border-color: #ef4444;
        }
        html.dark footer {
            background-color: #2d3748;
            box-shadow: 0 -4px 6px -1px rgba(0, 0, 0, 0.3);
        }


        /* Estilo para os t√≠tulos de se√ß√£o */
        .section-title {
            font-size: 2.75rem; /* Tamanho da fonte maior */
            font-weight: 700; /* Negrito */
            color: #1f2937; /* Azul-acinzentado mais escuro */
            margin-bottom: 2rem;
            border-bottom: 3px solid #6366f1; /* Borda inferior azul vibrante para destaque */
            padding-bottom: 0.75rem;
            text-align: center;
        }
        /* Estilo para os subt√≠tulos de se√ß√£o */
        .subsection-title {
            font-size: 2rem;
            font-weight: 600;
            color: #374151;
            margin-top: 2.5rem;
            margin-bottom: 1.25rem;
        }
        /* Estilo para blocos de f√≥rmula (LaTeX) */
        .formula {
            background-color: #eef2ff; /* Azul muito claro para f√≥rmulas */
            padding: 1.25rem;
            border-radius: 0.75rem;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            text-align: center;
            font-size: 1.2rem;
            color: #1f2937;
            overflow-x: auto; /* Permite rolagem horizontal se a f√≥rmula for muito longa */
            box-shadow: 0 2px 4px rgba(0,0,0,0.05); /* Sombra sutil */
        }
        /* Estilo para links de navega√ß√£o na barra lateral */
        .nav-link {
            display: block;
            padding: 0.85rem 1.25rem;
            border-radius: 0.65rem;
            margin-bottom: 0.65rem;
            transition: background-color 0.3s ease-in-out, color 0.3s ease-in-out, transform 0.2s ease-out; /* Transi√ß√£o suave */
        }
        /* Estilo para links de navega√ß√£o ao passar o mouse */
        .nav-link:hover {
            background-color: #4f46e5; /* √çndigo mais escuro ao passar o mouse */
            color: white;
            transform: translateX(5px); /* Pequeno deslocamento para a direita */
        }
        /* Estilo para o link de navega√ß√£o ativo */
        .active-nav-link {
            background-color: #6366f1; /* √çndigo vibrante para o link ativo */
            color: white;
            font-weight: 700;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2); /* Sombra mais pronunciada para ativo */
        }
        /* Estilo para os cards de propriedade */
        .property-card {
            background-color: #ffffff;
            border-radius: 1rem;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); /* Sombra mais profunda */
            transition: transform 0.3s ease-out; /* Transi√ß√£o para efeito de hover */
        }
        .property-card:hover {
            transform: translateY(-5px); /* Leve levantamento no hover */
        }
        /* Estilo para o conte√∫do que √© revelado pelos bot√µes "Entenda Melhor" */
        .learn-more-content, .step-content, .quiz-content {
            max-height: 0; /* Come√ßa oculto */
            overflow: hidden;
            transition: max-height 0.6s ease-out, padding 0.6s ease-out; /* Transi√ß√£o suave para expandir/recolher */
            padding: 0 1rem; /* Padding horizontal */
        }
        /* Estilo quando o conte√∫do √© expandido */
        .learn-more-content.expanded, .step-content.expanded, .quiz-content.expanded {
            max-height: 600px; /* Altura m√°xima para revelar o conte√∫do (ajustar conforme necess√°rio) */
            padding: 1rem; /* Adiciona padding vertical quando expandido */
            transition: max-height 0.6s ease-in, padding 0.6s ease-in; /* Transi√ß√£o suave para expandir */
        }
        /* Estilo para o canvas */
        canvas {
            border: 2px solid #a78bfa; /* Borda roxa suave */
            background-color: #fefefe;
            border-radius: 0.75rem;
            margin-top: 1.5rem;
            display: block;
            width: 100%; /* Garante que o canvas seja responsivo */
            height: auto; /* Mant√©m a propor√ß√£o */
            box-shadow: 0 5px 10px rgba(0,0,0,0.1);
        }

        /* Anima√ß√£o de fade-in para se√ß√µes */
        .fade-in-section {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .fade-in-section.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Estilo para o bot√£o principal */
        .main-button {
            @apply bg-indigo-600 text-white font-bold py-3 px-6 rounded-lg shadow-lg transition duration-300 ease-in-out transform hover:scale-105 hover:bg-indigo-700;
        }

        /* Estilo para o bot√£o de exemplo */
        .example-button {
            @apply bg-emerald-500 text-white font-bold py-3 px-6 rounded-lg shadow-lg transition duration-300 ease-in-out transform hover:scale-105 hover:bg-emerald-600;
        }

        /* Estilo para as op√ß√µes do quiz */
        .quiz-option {
            @apply block w-full text-left py-3 px-4 rounded-lg border border-indigo-300 bg-indigo-50 text-indigo-800 font-medium mb-3 transition duration-200 ease-in-out hover:bg-indigo-100 hover:shadow-md;
        }
        .quiz-option.correct {
            @apply bg-green-200 border-green-500 text-green-800;
        }
        .quiz-option.incorrect {
            @apply bg-red-200 border-red-500 text-red-800;
        }
        .quiz-feedback {
            @apply mt-4 text-center text-lg font-semibold;
        }

        /* Estilo para o bot√£o de modo escuro */
        .dark-mode-toggle {
            @apply p-2 rounded-full bg-gray-200 text-gray-800 hover:bg-gray-300 transition duration-300 absolute top-4 right-4;
        }
        html.dark .dark-mode-toggle {
            @apply bg-gray-700 text-gray-200 hover:bg-gray-600;
        }

        /* Estilo para p√≠lulas de curiosidade */
        .curiosity-pill {
            @apply bg-yellow-100 border border-yellow-300 text-yellow-800 p-4 rounded-lg shadow-md mt-6;
        }
        html.dark .curiosity-pill {
            @apply bg-yellow-900 border-yellow-700 text-yellow-200;
        }
    </style>
</head>
<body class="scroll-smooth">
    <div class="min-h-screen flex flex-col lg:flex-row">
        <!-- Barra Lateral de Navega√ß√£o -->
        <aside class="w-full lg:w-64 bg-slate-900 text-white p-6 lg:p-4 shadow-lg flex-shrink-0">
            <h2 class="text-3xl font-bold mb-8 text-center lg:text-left text-indigo-300">Fourier Explorer</h2>
            <nav>
                <ul>
                    <li><a href="#introducao" class="nav-link" data-section="introducao">Introdu√ß√£o</a></li>
                    <li><a href="#definicao" class="nav-link" data-section="definicao">Defini√ß√£o</a></li>
                    <li><a href="#propriedades" class="nav-link" data-section="propriedades">Propriedades</a></li>
                    <li><a href="#exemplo" class="nav-link" data-section="exemplo">Exemplo Resolvido</a></li>
                    <li><a href="#quiz" class="nav-link" data-section="quiz">Desafio R√°pido</a></li>
                    <li><a href="#aplicacoes" class="nav-link" data-section="aplicacoes">Aplica√ß√µes</a></li>
                </ul>
            </nav>
        </aside>

        <!-- √Årea Principal de Conte√∫do -->
        <main class="flex-grow p-6 lg:p-10 bg-gradient-to-br from-blue-50 to-indigo-100 relative">
            <!-- Bot√£o de Modo Escuro -->
            <button id="darkModeToggle" class="dark-mode-toggle">
                ‚òÄÔ∏è
            </button>

            <header class="text-center mb-12 py-8 bg-white rounded-xl shadow-md">
                <h1 class="text-5xl lg:text-6xl font-extrabold text-indigo-700 mb-4 animate-pulse">
                    A Transformada de Fourier
                </h1>
                <p class="text-xl lg:text-2xl text-gray-700 max-w-3xl mx-auto">
                    Desvendando Sinais e Frequ√™ncias: Um Guia Interativo e Divertido!
                </p>
            </header>

            <!-- Se√ß√£o de Introdu√ß√£o -->
            <section id="introducao" class="mb-16 fade-in-section" data-aos="fade-up" data-aos-duration="800">
                <h2 class="section-title">Introdu√ß√£o</h2>
                <p class="text-lg leading-relaxed mb-4 text-gray-800">
                    Se voc√™ j√° se perguntou como seu smartphone consegue separar a voz do barulho ambiente, ou como os engenheiros analisam as vibra√ß√µes de uma ponte, a <strong>Transformada de Fourier</strong> √© a chave para entender esses mist√©rios. Em termos simples, ela √© uma ferramenta matem√°tica poderosa que nos permite "desmontar" um sinal complexo em suas <strong>frequ√™ncias constituintes</strong>. Pense nela como um prisma que decompobre a luz branca em todas as cores do arco-√≠ris ‚Äì cada cor representa uma frequ√™ncia diferente.
                </p>
                <h3 class="subsection-title">O que √© um Sinal?</h3>
                <p class="text-lg leading-relaxed mb-4 text-gray-800">
                    Antes de mergulharmos na Transformada de Fourier, √© importante entender o que chamamos de "sinal". Um sinal √© qualquer informa√ß√£o que varia ao longo do tempo ou do espa√ßo. Exemplos incluem:
                </p>
                <ul class="list-disc list-inside ml-4 text-lg leading-relaxed text-gray-700">
                    <li><strong>Sinais de √°udio:</strong> A sua voz, uma m√∫sica, o som de um carro.</li>
                    <li><strong>Sinais de imagem:</strong> Uma foto, um v√≠deo.</li>
                    <li><strong>Sinais biol√≥gicos:</strong> Batimentos card√≠acos, ondas cerebrais.</li>
                    <li><strong>Sinais f√≠sicos:</strong> Vibra√ß√µes, temperatura.</li>
                </ul>
                <p class="text-lg leading-relaxed mt-4 text-gray-800">
                    Geralmente, representamos um sinal como uma fun√ß√£o que descreve sua amplitude em cada ponto no tempo (ou espa√ßo).
                </p>
                <div class="curiosity-pill" data-aos="zoom-in" data-aos-delay="200">
                    <p class="text-xl font-semibold mb-2">üí° Voc√™ Sabia?</p>
                    <p>A Transformada de Fourier √© t√£o vers√°til que √© usada at√© mesmo para analisar dados astron√¥micos, como as ondas gravitacionais detectadas por observat√≥rios como o LIGO!</p>
                </div>
            </section>

            <!-- Se√ß√£o de Defini√ß√£o -->
            <section id="definicao" class="mb-16 fade-in-section" data-aos="fade-up" data-aos-duration="800" data-aos-delay="100">
                <h2 class="section-title">A Defini√ß√£o da Transformada de Fourier</h2>
                <p class="text-lg leading-relaxed mb-4 text-gray-800">
                    A Transformada de Fourier pega um sinal no <strong>dom√≠nio do tempo</strong> (como ouvimos ou vemos algo acontecer) e o converte para o <strong>dom√≠nio da frequ√™ncia</strong>. No dom√≠nio da frequ√™ncia, podemos ver quais frequ√™ncias est√£o presentes no sinal e com que intensidade.
                </p>
                <p class="text-lg leading-relaxed mb-4 text-gray-800">
                    Existem duas formas principais da Transformada de Fourier, dependendo se o sinal √© cont√≠nuo ou discreto:
                </p>

                <h3 class="subsection-title">Transformada Cont√≠nua de Fourier (TCF)</h3>
                <p class="text-lg leading-relaxed mb-2 text-gray-800">
                    Usada para sinais cont√≠nuos, ou seja, sinais que t√™m um valor em cada instante de tempo. Ela √© definida pela seguinte integral:
                </p>
                <div class="formula">
                    $$F(\omega) = \int_{-\infty}^{\infty} f(t)e^{-j\omega t} dt$$
                </div>
                <ul class="list-disc list-inside ml-4 text-lg leading-relaxed mb-4 text-gray-700">
                    <li>$f(t)$ √© o sinal no dom√≠nio do tempo.</li>
                    <li>$F(\omega)$ √© a transformada de Fourier de $f(t)$ no dom√≠nio da frequ√™ncia.</li>
                    <li>$j$ √© a unidade imagin√°ria ($j = \sqrt{-1}$).</li>
                    <li>$\omega$ (√¥mega) representa a frequ√™ncia angular em radianos por segundo.</li>
                </ul>

                <h3 class="subsection-title">Transformada Discreta de Fourier (TDF)</h3>
                <p class="text-lg leading-relaxed mb-2 text-gray-800">
                    Usada para sinais discretos, que s√£o amostras de um sinal cont√≠nuo (como √°udio digital, onde o som √© amostrado v√°rias vezes por segundo). Ela √© definida pela seguinte soma:
                </p>
                <div class="formula">
                    $$X_k = \sum_{n=0}^{N-1} x_n e^{-j2\pi kn/N}$$
                </div>
                <ul class="list-disc list-inside ml-4 text-lg leading-relaxed mb-4 text-gray-700">
                    <li>$x_n$ √© o sinal discreto no dom√≠nio do tempo (a n-√©sima amostra).</li>
                    <li>$X_k$ √© a transformada de Fourier discreta (o k-√©simo componente de frequ√™ncia).</li>
                    <li>$N$ √© o n√∫mero total de amostras.</li>
                </ul>
                <p class="text-lg leading-relaxed mb-4 text-gray-800">
                    A ess√™ncia por tr√°s dessas equa√ß√µes √© que estamos correlacionando o sinal original com uma s√©rie de senoides e cossenos de diferentes frequ√™ncias. O resultado, $F(\omega)$ ou $X_k$, nos diz o qu√£o bem cada frequ√™ncia espec√≠fica est√° presente no sinal original.
                </p>
                <p class="text-lg leading-relaxed text-gray-800">
                    Imagine que voc√™ tem uma orquestra tocando. No dom√≠nio do tempo, voc√™ ouviria a m√∫sica como um todo. Com a Transformada de Fourier, voc√™ poderia "separar" cada instrumento e ver a intensidade com que cada um est√° contribuindo para a melodia geral, independentemente do volume total da orquestra.
                </p>
            </section>

            <!-- Se√ß√£o de Propriedades -->
            <section id="propriedades" class="mb-16 fade-in-section" data-aos="fade-up" data-aos-duration="800" data-aos-delay="200">
                <h2 class="section-title">Propriedades Essenciais da Transformada de Fourier</h2>
                <p class="text-lg leading-relaxed mb-6 text-gray-800">
                    As propriedades da Transformada de Fourier s√£o o que a tornam t√£o poderosa e vers√°til em diversas aplica√ß√µes. Vamos focar nas mais importantes para sua apresenta√ß√£o:
                </p>

                <!-- Propriedade 1: Linearidade -->
                <div class="property-card" data-aos="fade-right" data-aos-duration="800" data-aos-delay="300">
                    <h3 class="subsection-title">1. Linearidade</h3>
                    <p class="text-lg leading-relaxed mb-2 text-gray-800">
                        A propriedade da linearidade nos diz que a Transformada de Fourier de uma combina√ß√£o linear de sinais √© a combina√ß√£o linear das Transformadas de Fourier desses sinais. Em termos mais simples: se voc√™ somar dois sinais e depois aplicar a transformada, o resultado ser√° o mesmo que aplicar a transformada em cada sinal separadamente e depois somar os resultados.
                    </p>
                    <div class="formula">
                        $$a \cdot f(t) + b \cdot g(t) \leftrightarrow a \cdot F(\omega) + b \cdot G(\omega)$$
                    </div>
                    <p class="text-lg leading-relaxed mb-4 text-gray-700">
                        Onde $a$ e $b$ s√£o constantes, $f(t) \leftrightarrow F(\omega)$ e $g(t) \leftrightarrow G(\omega)$.
                    </p>
                    <button class="main-button" onclick="toggleDetails('linearidade-details')">
                        Entenda Melhor
                    </button>
                    <div id="linearidade-details" class="learn-more-content mt-4">
                        <p class="text-lg leading-relaxed bg-blue-50 p-4 rounded-lg border border-blue-200">
                            <strong>Significado:</strong> Essa propriedade √© fundamental porque permite que a gente analise sinais complexos decompondo-os em partes mais simples. Por exemplo, se um sinal de √°udio √© composto pela sua voz e uma m√∫sica de fundo, podemos analisar o espectro de cada um separadamente e depois combin√°-los para entender o espectro total. √â como analisar os ingredientes de um bolo um por um antes de provar o bolo pronto.
                        </p>
                    </div>
                </div>

                <!-- Propriedade 2: Transla√ß√£o -->
                <div class="property-card" data-aos="fade-left" data-aos-duration="800" data-aos-delay="400">
                    <h3 class="subsection-title">2. Transla√ß√£o (Deslocamento)</h3>
                    <p class="text-lg leading-relaxed mb-2 text-gray-800">
                        A propriedade da transla√ß√£o (ou deslocamento) lida com o que acontece quando um sinal √© movido no tempo ou na frequ√™ncia.
                    </p>
                    <h4 class="text-xl font-semibold text-gray-700 mt-4 mb-2">Deslocamento no Tempo:</h4>
                    <p class="text-lg leading-relaxed mb-2 text-gray-800">
                        Se voc√™ atrasar ou adiantar um sinal no tempo, as frequ√™ncias presentes no sinal n√£o mudam. O que muda √© apenas a "fase" de cada frequ√™ncia. Imagine que voc√™ est√° ouvindo uma m√∫sica e ela come√ßa um segundo mais tarde; as notas s√£o as mesmas, mas o momento em que voc√™ as ouve √© diferente.
                    </p>
                    <div class="formula">
                        $$f(t - t_0) \leftrightarrow e^{-j\omega t_0} F(\omega)$$
                    </div>
                    <p class="text-lg leading-relaxed mb-4 text-gray-700">
                        Onde $t_0$ √© o valor do deslocamento no tempo. O termo $e^{-j\omega t_0}$ √© um fator de fase.
                    </p>

                    <h4 class="text-xl font-semibold text-gray-700 mt-4 mb-2">Deslocamento na Frequ√™ncia:</h4>
                    <p class="text-lg leading-relaxed mb-2 text-gray-800">
                        Da mesma forma, se voc√™ "modula" um sinal multiplicando-o por uma sen√≥ide complexa no dom√≠nio do tempo, isso causa um deslocamento de todo o seu espectro de frequ√™ncia. Isso √© crucial em telecomunica√ß√µes, por exemplo, onde diferentes esta√ß√µes de r√°dio transmitem em frequ√™ncias distintas para n√£o interferirem umas nas outras.
                    </p>
                    <div class="formula">
                        $$e^{j\omega_0 t} f(t) \leftrightarrow F(\omega - \omega_0)$$
                    </div>
                    <p class="text-lg leading-relaxed mb-4 text-gray-700">
                        Onde $\omega_0$ √© o valor do deslocamento na frequ√™ncia.
                    </p>
                    <button class="main-button" onclick="toggleDetails('translacao-details')">
                        Entenda Melhor
                    </button>
                    <div id="translacao-details" class="learn-more-content mt-4">
                        <p class="text-lg leading-relaxed bg-blue-50 p-4 rounded-lg border border-blue-200">
                            <strong>Significado:</strong> Essas propriedades s√£o vitais para entender como os sinais s√£o transmitidos e recebidos em sistemas de comunica√ß√£o. Elas nos mostram como o tempo e a frequ√™ncia est√£o intrinsecamente ligados na Transformada de Fourier.
                        </p>
                    </div>
                </div>

                <!-- Propriedade 3: Derivada -->
                <div class="property-card" data-aos="fade-right" data-aos-duration="800" data-aos-delay="500">
                    <h3 class="subsection-title">3. Derivada (Diferencia√ß√£o no Tempo)</h3>
                    <p class="text-lg leading-relaxed mb-2 text-gray-800">
                        A propriedade da derivada relaciona a Transformada de Fourier da derivada de um sinal no tempo com a Transformada de Fourier do sinal original. Essencialmente, diferenciar um sinal no dom√≠nio do tempo √© o mesmo que multiplicar sua Transformada de Fourier por $j\omega$ no dom√≠nio da frequ√™ncia.
                    </p>
                    <div class="formula">
                        $$\frac{d}{dt}f(t) \leftrightarrow j\omega F(\omega)$$
                    </div>
                    <p class="text-lg leading-relaxed mb-4 text-gray-700">
                        Onde $f(t) \leftrightarrow F(\omega)$.
                    </p>
                    <button class="main-button" onclick="toggleDetails('derivada-details')">
                        Entenda Melhor
                    </button>
                    <div id="derivada-details" class="learn-more-content mt-4">
                        <p class="text-lg leading-relaxed bg-blue-50 p-4 rounded-lg border border-blue-200">
                            <strong>Significado:</strong> Esta propriedade nos diz que a diferencia√ß√£o enfatiza as <strong>altas frequ√™ncias</strong>. Se um sinal muda muito rapidamente no tempo (tem muitas "dobras" ou varia√ß√µes abruptas), sua derivada ser√° grande, e isso se manifestar√° como uma maior energia nas altas frequ√™ncias no dom√≠nio da frequ√™ncia. Por outro lado, sinais suaves, que mudam lentamente, ter√£o poucas altas frequ√™ncias. Isso √© √∫til para detectar mudan√ßas abruptas em sinais, como bordas em imagens.
                        </p>
                    </div>
                </div>

                <!-- Propriedade 4: Convolu√ß√£o -->
                <div class="property-card" data-aos="fade-left" data-aos-duration="800" data-aos-delay="600">
                    <h3 class="subsection-title">4. Convolu√ß√£o</h3>
                    <p class="text-lg leading-relaxed mb-2 text-gray-800">
                        A convolu√ß√£o √© uma opera√ß√£o matem√°tica que descreve como a forma de uma fun√ß√£o √© modificada pela outra. No contexto de sistemas e processamento de sinais, a convolu√ß√£o √© fundamental para entender como um sistema (como um filtro) afeta um sinal de entrada. O <strong>Teorema da Convolu√ß√£o</strong> √© uma das propriedades mais poderosas da Transformada de Fourier.
                    </p>
                    <div class="formula">
                        $$f(t) * g(t) \leftrightarrow F(\omega) \cdot G(\omega)$$
                    </div>
                    <p class="text-lg leading-relaxed mb-4 text-gray-700">
                        Onde $*$ denota a opera√ß√£o de convolu√ß√£o, $f(t) \leftrightarrow F(\omega)$ e $g(t) \leftrightarrow G(\omega)$.
                    </p>
                    <button class="main-button" onclick="toggleDetails('convolucao-details')">
                        Entenda Melhor
                    </button>
                    <div id="convolucao-details" class="learn-more-content mt-4">
                        <p class="text-lg leading-relaxed bg-blue-50 p-4 rounded-lg border border-blue-200">
                            <strong>Significado:</strong> Este teorema √© incrivelmente √∫til porque transforma uma opera√ß√£o complexa de convolu√ß√£o no dom√≠nio do tempo (que envolve integrais complicadas) em uma <strong>multiplica√ß√£o simples</strong> no dom√≠nio da frequ√™ncia. Isso simplifica drasticamente a an√°lise e o projeto de filtros e sistemas de processamento de sinais. Por exemplo, quando voc√™ aplica um filtro de √°udio para remover o ru√≠do (convolu√ß√£o), no dom√≠nio da frequ√™ncia isso se traduz em simplesmente multiplicar o espectro do √°udio pelo espectro do filtro.
                        </p>
                    </div>
                </div>
            </section>

            <!-- Se√ß√£o de Exemplo -->
            <section id="exemplo" class="mb-16 fade-in-section" data-aos="fade-up" data-aos-duration="800" data-aos-delay="700">
                <h2 class="section-title">Exemplo Resolvido: A Transformada de Fourier de um Pulso Retangular</h2>
                <p class="text-lg leading-relaxed mb-4 text-gray-800">
                    Vamos calcular a Transformada de Fourier de um <strong>pulso retangular</strong>, um sinal muito comum em engenharia e telecomunica√ß√µes.
                </p>
                <p class="text-lg leading-relaxed mb-4 text-gray-800">
                    Considere um pulso retangular $f(t)$ definido como:
                </p>
                <div class="formula">
                    $$f(t) = \begin{cases} 1 & \text{se } -\frac{T}{2} \le t \le \frac{T}{2} \\ 0 & \text{caso contr√°rio} \end{cases}$$
                </div>
                <p class="text-lg leading-relaxed mb-4 text-gray-800">
                    Este pulso tem amplitude 1 e dura√ß√£o $T$, centrado em $t=0$.
                </p>

                <!-- Passo 1 -->
                <div class="property-card" data-aos="fade-right" data-aos-duration="800" data-aos-delay="800">
                    <h3 class="subsection-title">Passo 1: Aplicar a Defini√ß√£o da Transformada Cont√≠nua de Fourier</h3>
                    <button class="example-button" onclick="toggleDetails('step1-details')">
                        Mostrar Passo 1
                    </button>
                    <div id="step1-details" class="step-content mt-4">
                        <div class="formula">
                            $$F(\omega) = \int_{-\infty}^{\infty} f(t)e^{-j\omega t} dt$$
                        </div>
                        <p class="text-lg leading-relaxed bg-green-50 p-4 rounded-lg border border-green-200">
                            Como $f(t)$ √© 1 apenas no intervalo $[-\frac{T}{2}, \frac{T}{2}]$, a integral se simplifica para:
                        </p>
                        <div class="formula">
                            $$F(\omega) = \int_{-T/2}^{T/2} (1)e^{-j\omega t} dt$$
                        </div>
                    </div>
                </div>

                <!-- Passo 2 -->
                <div class="property-card" data-aos="fade-left" data-aos-duration="800" data-aos-delay="900">
                    <h3 class="subsection-title">Passo 2: Resolver a Integral</h3>
                    <button class="example-button" onclick="toggleDetails('step2-details')">
                        Mostrar Passo 2
                    </button>
                    <div id="step2-details" class="step-content mt-4">
                        <p class="text-lg leading-relaxed bg-green-50 p-4 rounded-lg border border-green-200">
                            A integral de $e^{ax}$ √© $\frac{1}{a}e^{ax}$. Neste caso, $a = -j\omega$.
                        </p>
                        <div class="formula">
                            $$F(\omega) = \left[ \frac{e^{-j\omega t}}{-j\omega} \right]_{-T/2}^{T/2}$$
                        </div>
                        <div class="formula">
                            $$F(\omega) = \frac{1}{-j\omega} \left[ e^{-j\omega (T/2)} - e^{-j\omega (-T/2)} \right]$$
                        </div>
                        <div class="formula">
                            $$F(\omega) = \frac{1}{-j\omega} \left[ e^{-j\omega T/2} - e^{j\omega T/2} \right]$$
                        </div>
                    </div>
                </div>

                <!-- Passo 3 -->
                <div class="property-card" data-aos="fade-right" data-aos-duration="800" data-aos-delay="1000">
                    <h3 class="subsection-title">Passo 3: Usar a Identidade de Euler</h3>
                    <button class="example-button" onclick="toggleDetails('step3-details')">
                        Mostrar Passo 3
                    </button>
                    <div id="step3-details" class="step-content mt-4">
                        <p class="text-lg leading-relaxed bg-green-50 p-4 rounded-lg border border-green-200">
                            Lembre-se da identidade de Euler: $e^{jx} - e^{-jx} = 2j \sin(x)$.
                            Ent√£o, $e^{-j\omega T/2} - e^{j\omega T/2} = -(e^{j\omega T/2} - e^{-j\omega T/2}) = -2j \sin(\omega T/2)$.
                        </p>
                        <p class="text-lg leading-relaxed bg-green-50 p-4 rounded-lg border border-green-200">
                            Substituindo isso na equa√ß√£o de $F(\omega)$:
                        </p>
                        <div class="formula">
                            $$F(\omega) = \frac{1}{-j\omega} \left[ -2j \sin\left(\frac{\omega T}{2}\right) \right]$$
                        </div>
                        <div class="formula">
                            $$F(\omega) = \frac{2j \sin\left(\frac{\omega T}{2}\right)}{j\omega}$$
                        </div>
                        <div class="formula">
                            $$F(\omega) = \frac{2 \sin\left(\frac{\omega T}{2}\right)}{\omega}$$
                        </div>
                    </div>
                </div>

                <!-- Passo 4 -->
                <div class="property-card" data-aos="fade-left" data-aos-duration="800" data-aos-delay="1100">
                    <h3 class="subsection-title">Passo 4: Expressar em Termos da Fun√ß√£o Sinc</h3>
                    <button class="example-button" onclick="toggleDetails('step4-details')">
                        Mostrar Passo 4
                    </button>
                    <div id="step4-details" class="step-content mt-4">
                        <p class="text-lg leading-relaxed bg-green-50 p-4 rounded-lg border border-green-200">
                            A fun√ß√£o <strong>sinc</strong> √© definida como $\text{sinc}(x) = \frac{\sin(\pi x)}{\pi x}$.
                            Para expressar $F(\omega)$ em termos de sinc, vamos manipular a express√£o:
                        </p>
                        <div class="formula">
                            $$F(\omega) = \frac{2 \sin\left(\frac{\omega T}{2}\right)}{\omega} \times \frac{T}{T} \times \frac{\pi}{\pi}$$
                        </div>
                        <div class="formula">
                            $$F(\omega) = T \cdot \frac{2 \sin\left(\frac{\omega T}{2}\right)}{T\omega} \times \frac{\pi}{\pi}$$
                        </div>
                        <p class="text-lg leading-relaxed bg-green-50 p-4 rounded-lg border border-green-200">
                            Perceba que $\frac{\omega T}{2}$ pode ser reescrito como $\pi \frac{\omega T}{2\pi}$.
                        </p>
                        <div class="formula">
                            $$F(\omega) = T \cdot \text{sinc}\left(\frac{\omega T}{2\pi}\right)$$
                        </div>
                    </div>
                </div>

                <div class="property-card mt-8 bg-blue-100 border border-blue-300" data-aos="fade-up" data-aos-duration="800" data-aos-delay="1200">
                    <h3 class="subsection-title text-blue-800">Conclus√£o do Exemplo:</h3>
                    <p class="text-lg leading-relaxed text-gray-800">
                        A Transformada de Fourier de um pulso retangular no dom√≠nio do tempo √© uma fun√ß√£o <strong>sinc</strong> no dom√≠nio da frequ√™ncia. Isso nos diz que um pulso retangular, apesar de parecer simples no tempo, cont√©m uma gama de frequ√™ncias, com a maior parte da energia concentrada nas baixas frequ√™ncias e "l√≥bulos" de energia em frequ√™ncias mais altas. Quanto mais estreito o pulso no tempo ($T$ menor), mais largo √© o seu espectro de frequ√™ncia (o l√≥bulo principal da sinc √© mais largo).
                    </p>
                </div>

                <div class="property-card mt-8" data-aos="fade-up" data-aos-duration="800" data-aos-delay="1300">
                    <h3 class="subsection-title">Visualiza√ß√£o Interativa do Pulso Retangular e seu Espectro</h3>
                    <p class="text-lg leading-relaxed mb-4 text-gray-800">
                        Ajuste o valor de 'T' (dura√ß√£o do pulso) e observe como o pulso no dom√≠nio do tempo e sua Transformada de Fourier (fun√ß√£o sinc) mudam.
                    </p>
                    <div class="flex items-center mb-4">
                        <label for="pulseDuration" class="mr-4 text-lg font-medium text-gray-700">Dura√ß√£o do Pulso (T):</label>
                        <input type="range" id="pulseDuration" min="0.1" max="5" value="1" step="0.1" class="w-full h-2 bg-indigo-200 rounded-lg appearance-none cursor-pointer range-lg accent-indigo-500">
                        <span id="currentPulseDuration" class="ml-4 text-lg font-bold text-indigo-700">1.0</span>
                    </div>
                    <div class="canvas-container">
                        <canvas id="fourierCanvas" width="800" height="400"></canvas>
                    </div>
                </div>
            </section>

            <!-- Se√ß√£o de Desafio R√°pido (Quiz) -->
            <section id="quiz" class="mb-16 fade-in-section" data-aos="fade-up" data-aos-duration="800" data-aos-delay="1400">
                <h2 class="section-title">üß† Desafio R√°pido!</h2>
                <div class="property-card">
                    <p class="text-xl font-semibold mb-6 text-gray-800">
                        Qual propriedade da Transformada de Fourier simplifica a opera√ß√£o de convolu√ß√£o no dom√≠nio do tempo para uma multiplica√ß√£o no dom√≠nio da frequ√™ncia?
                    </p>
                    <div id="quiz-options">
                        <button class="quiz-option" data-answer="linearidade">A) Linearidade</button>
                        <button class="quiz-option" data-answer="translacao">B) Transla√ß√£o</button>
                        <button class="quiz-option" data-answer="derivada">C) Derivada</button>
                        <button class="quiz-option" data-answer="convolucao">D) Convolu√ß√£o</button>
                    </div>
                    <div id="quiz-feedback" class="quiz-feedback hidden"></div>
                </div>
                <div class="curiosity-pill" data-aos="zoom-in" data-aos-delay="200">
                    <p class="text-xl font-semibold mb-2">üéµ Voc√™ Sabia?</p>
                    <p>O formato de √°udio MP3 usa a Transformada de Fourier para identificar e descartar frequ√™ncias que o ouvido humano tem dificuldade em perceber, permitindo uma compress√£o de dados eficiente sem perda percept√≠vel de qualidade!</p>
                </div>
            </section>

            <!-- Se√ß√£o de Aplica√ß√µes -->
            <section id="aplicacoes" class="mb-16 fade-in-section" data-aos="fade-up" data-aos-duration="800" data-aos-delay="1500">
                <h2 class="section-title">Aplica√ß√µes da Transformada de Fourier</h2>
                <p class="text-lg leading-relaxed mb-4 text-gray-800">
                    A Transformada de Fourier √© a espinha dorsal de in√∫meras tecnologias e campos de estudo:
                </p>
                <ul class="list-disc list-inside ml-4 text-lg leading-relaxed text-gray-700">
                    <li><strong>Processamento de Sinais:</strong> Filtragem de ru√≠dos, compress√£o de √°udio (MP3) e v√≠deo (MPEG), reconhecimento de fala.</li>
                    <li><strong>Comunica√ß√µes:</strong> Modula√ß√£o e demodula√ß√£o de sinais de r√°dio e TV, multiplexa√ß√£o por divis√£o de frequ√™ncia.</li>
                    <li><strong>An√°lise de Imagens:</strong> Compress√£o de imagens (JPEG), reconhecimento de padr√µes, realce de bordas.</li>
                    <li><strong>Engenharia:</strong> An√°lise de vibra√ß√µes em estruturas, projeto de circuitos, controle de sistemas.</li>
                    <li><strong>Medicina:</strong> Resson√¢ncia Magn√©tica (MRI), eletrocardiogramas (ECG), eletroencefalogramas (EEG).</li>
                    <li><strong>F√≠sica:</strong> √ìptica, mec√¢nica qu√¢ntica, processamento de sinais s√≠smicos.</li>
                </ul>
                <div class="curiosity-pill" data-aos="zoom-in" data-aos-delay="200">
                    <p class="text-xl font-semibold mb-2">üî≠ Voc√™ Sabia?</p>
                    <p>Em astronomia, a Transformada de Fourier √© usada para analisar a luz de estrelas e gal√°xias, permitindo que os cientistas determinem sua composi√ß√£o qu√≠mica, temperatura e at√© mesmo sua velocidade em rela√ß√£o √† Terra!</p>
                </div>
            </section>

            <footer class="text-center text-lg font-semibold text-gray-600 mt-12 py-6 bg-white rounded-xl shadow-md">
                <p>&copy; 2025 Transformada de Fourier. Todos os direitos reservados.</p>
                <p class="mt-2">Feito com ‚ù§Ô∏è para sua apresenta√ß√£o!</p>
            </footer>
        </main>
    </div>

    <script>
        // Fun√ß√£o para alternar a visibilidade dos detalhes (para propriedades e passos do exemplo)
        function toggleDetails(id) {
            const element = document.getElementById(id);
            element.classList.toggle('expanded');
            // Se for o canvas, garante que ele seja redesenhado ao ser expandido
            if (id === 'step4-details' || id === 'exemplo') {
                drawFourierTransform();
            }
        }

        // Configura o MathJax para renderizar f√≥rmulas LaTeX
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']], // Delimitadores para matem√°tica inline
                displayMath: [['$$', '$$'], ['\\[', '\\]']] // Delimitadores para matem√°tica em bloco
            },
            svg: {
                fontCache: 'global' // Otimiza√ß√£o de fonte para SVG
            }
        };
    </script>
    <!-- Script do MathJax para carregar e renderizar as f√≥rmulas -->
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <!-- Script do AOS para anima√ß√µes ao rolar -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <!-- Script do Chart.js para gr√°ficos -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Script do Howler.js para sons (opcional) -->
    <script src="https://cdn.jsdelivr.net/npm/howler@2.2.3/dist/howler.min.js"></script>

    <script>
        AOS.init(); // Inicializa o AOS

        // --- Dark Mode Logic ---
        const darkModeToggle = document.getElementById('darkModeToggle');
        const htmlElement = document.documentElement;

        // Load theme from local storage
        const currentTheme = localStorage.getItem('theme');
        if (currentTheme === 'dark') {
            htmlElement.classList.add('dark');
            darkModeToggle.textContent = 'üåô'; // Moon icon for dark mode
        } else {
            darkModeToggle.textContent = '‚òÄÔ∏è'; // Sun icon for light mode
        }

        darkModeToggle.addEventListener('click', () => {
            htmlElement.classList.toggle('dark');
            if (htmlElement.classList.contains('dark')) {
                localStorage.setItem('theme', 'dark');
                darkModeToggle.textContent = 'üåô';
            } else {
                localStorage.setItem('theme', 'light');
                darkModeToggle.textContent = '‚òÄÔ∏è';
            }
        });

        // --- JavaScript para rolagem suave dos links de navega√ß√£o e destaque do link ativo ---
        document.querySelectorAll('nav a').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault(); // Previne o comportamento padr√£o do link

                // Remove a classe 'active-nav-link' de todos os links
                document.querySelectorAll('nav a').forEach(link => {
                    link.classList.remove('active-nav-link');
                });
                // Adiciona a classe 'active-nav-link' ao link clicado
                this.classList.add('active-nav-link');

                // Rola suavemente para a se√ß√£o correspondente
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // Destaca o link de navega√ß√£o ativo conforme o usu√°rio rola a p√°gina
        const sections = document.querySelectorAll('section'); // Seleciona todas as se√ß√µes
        const navLinks = document.querySelectorAll('nav a'); // Seleciona todos os links de navega√ß√£o

        window.addEventListener('scroll', () => {
            let current = ''; // Vari√°vel para armazenar a se√ß√£o atual vis√≠vel
            sections.forEach(section => {
                const sectionTop = section.offsetTop; // Posi√ß√£o do topo da se√ß√£o
                const sectionHeight = section.clientHeight; // Altura da se√ß√£o
                // Verifica se a posi√ß√£o de rolagem est√° dentro da se√ß√£o (com uma margem)
                if (pageYOffset >= sectionTop - sectionHeight / 3) {
                    current = section.getAttribute('id'); // Define a se√ß√£o atual
                }
            });

            // Remove e adiciona a classe 'active-nav-link' com base na se√ß√£o atual
            navLinks.forEach(link => {
                link.classList.remove('active-nav-link');
                if (link.getAttribute('data-section') === current) {
                    link.classList.add('active-nav-link');
                }
            });
        });

        // --- L√≥gica do Canvas para Visualiza√ß√£o Interativa com Chart.js ---
        const canvas = document.getElementById('fourierCanvas');
        const ctx = canvas.getContext('2d');
        const pulseDurationSlider = document.getElementById('pulseDuration');
        const currentPulseDurationSpan = document.getElementById('currentPulseDuration');

        let T_value = parseFloat(pulseDurationSlider.value); // Valor inicial de T

        // Gr√°fico do Pulso Retangular (ainda desenhado manualmente)
        function drawRectangularPulse(ctx, T, canvasWidth, canvasHeight) {
            ctx.clearRect(0, 0, canvasWidth, canvasHeight / 2); // Limpa a √°rea superior do canvas

            const scaleX = canvasWidth / (T * 4 + 2); // Escala para o dom√≠nio do tempo, ajustado para evitar bordas
            const offsetX = canvasWidth / 2; // Centraliza o pulso

            ctx.beginPath();
            ctx.strokeStyle = '#9ca3af'; // Cinza suave para os eixos
            ctx.lineWidth = 1;

            // Desenha o eixo X
            ctx.moveTo(0, canvasHeight / 2);
            ctx.lineTo(canvasWidth, canvasHeight / 2);
            ctx.stroke();

            ctx.beginPath();
            ctx.strokeStyle = '#ef4444'; // Vermelho vibrante para o pulso
            ctx.lineWidth = 4;

            // Desenha o pulso retangular
            const pulseHeight = 60; // Altura do pulso
            ctx.moveTo(offsetX - (T / 2) * scaleX, canvasHeight / 2);
            ctx.lineTo(offsetX - (T / 2) * scaleX, canvasHeight / 2 - pulseHeight);
            ctx.lineTo(offsetX + (T / 2) * scaleX, canvasHeight / 2 - pulseHeight);
            ctx.lineTo(offsetX + (T / 2) * scaleX, canvasHeight / 2);
            ctx.stroke();

            // Adiciona r√≥tulos
            ctx.fillStyle = htmlElement.classList.contains('dark') ? '#e2e8f0' : '#334155';
            ctx.font = '14px Inter';
            ctx.textAlign = 'center';
            ctx.fillText('f(t)', 20, canvasHeight / 2 - pulseHeight - 10);
            ctx.fillText('t', canvasWidth - 20, canvasHeight / 2 + 20);
            ctx.fillText('-T/2', offsetX - (T / 2) * scaleX, canvasHeight / 2 + 20);
            ctx.fillText('T/2', offsetX + (T / 2) * scaleX, canvasHeight / 2 + 20);
            ctx.fillText('1', offsetX - (T / 2) * scaleX - 20, canvasHeight / 2 - pulseHeight + 5);
            ctx.textAlign = 'start'; // Reseta para o padr√£o
        }

        // Fun√ß√£o sinc
        function sinc(x) {
            if (Math.abs(x) < 1e-9) return 1; // Lida com o caso x=0 para evitar divis√£o por zero
            return Math.sin(Math.PI * x) / (Math.PI * x);
        }

        let sincChart; // Vari√°vel para armazenar a inst√¢ncia do Chart.js

        // Fun√ß√£o para desenhar a fun√ß√£o sinc (Transformada de Fourier) usando Chart.js
        function drawSincFunctionChart(T, canvasWidth, canvasHeight) {
            const numPoints = 100; // N√∫mero de pontos para o gr√°fico da sinc
            const maxOmega = Math.max(10, T * 2 * Math.PI); // Ajusta o range de frequ√™ncia
            const labels = [];
            const data = [];

            for (let i = 0; i <= numPoints; i++) {
                const omega = (i / numPoints) * (maxOmega * 2) - maxOmega; // Frequ√™ncias de -maxOmega a +maxOmega
                labels.push(omega.toFixed(1));
                data.push(T * sinc(omega * T / (2 * Math.PI)));
            }

            const chartData = {
                labels: labels,
                datasets: [{
                    label: 'F(œâ) = T * sinc(œâT / 2œÄ)',
                    data: data,
                    borderColor: htmlElement.classList.contains('dark') ? '#34d399' : '#10b981', // Verde vibrante
                    backgroundColor: htmlElement.classList.contains('dark') ? 'rgba(52, 211, 153, 0.2)' : 'rgba(16, 185, 129, 0.2)',
                    borderWidth: 2,
                    tension: 0.4, // Curva suave
                    pointRadius: 0, // Remove os pontos
                    fill: true,
                }]
            };

            const chartOptions = {
                responsive: true,
                maintainAspectRatio: false,
                animation: {
                    duration: 500, // Anima√ß√£o mais r√°pida
                    easing: 'easeOutQuad'
                },
                scales: {
                    x: {
                        type: 'linear',
                        title: {
                            display: true,
                            text: 'Frequ√™ncia (œâ)',
                            color: htmlElement.classList.contains('dark') ? '#e2e8f0' : '#334155'
                        },
                        ticks: {
                            color: htmlElement.classList.contains('dark') ? '#cbd5e1' : '#4a5568'
                        },
                        grid: {
                            color: htmlElement.classList.contains('dark') ? 'rgba(255,255,255,0.1)' : 'rgba(0,0,0,0.1)'
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'Amplitude',
                            color: htmlElement.classList.contains('dark') ? '#e2e8f0' : '#334155'
                        },
                        ticks: {
                            color: htmlElement.classList.contains('dark') ? '#cbd5e1' : '#4a5568'
                        },
                        grid: {
                            color: htmlElement.classList.contains('dark') ? 'rgba(255,255,255,0.1)' : 'rgba(0,0,0,0.1)'
                        }
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    }
                }
            };

            // Destr√≥i o gr√°fico anterior se existir
            if (sincChart) {
                sincChart.destroy();
            }

            // Cria um novo gr√°fico Chart.js na parte inferior do canvas
            const sincCanvasCtx = canvas.getContext('2d');
            sincChart = new Chart(sincCanvasCtx, {
                type: 'line',
                data: chartData,
                options: chartOptions
            });

            // Ajusta a posi√ß√£o do gr√°fico Chart.js para a metade inferior do canvas
            sincChart.canvas.style.position = 'absolute';
            sincChart.canvas.style.top = (canvasHeight / 2) + 'px';
            sincChart.canvas.style.left = '0';
            sincChart.canvas.style.width = canvasWidth + 'px';
            sincChart.canvas.style.height = (canvasHeight / 2) + 'px';
        }


        // Fun√ß√£o principal para desenhar ambos os gr√°ficos
        function drawFourierTransform() {
            const canvasWidth = canvas.width;
            const canvasHeight = canvas.height;
            drawRectangularPulse(ctx, T_value, canvasWidth, canvasHeight);
            drawSincFunctionChart(T_value, canvasWidth, canvasHeight);
        }

        // Atualiza o valor de T e redesenha quando o slider √© movido
        pulseDurationSlider.addEventListener('input', (event) => {
            T_value = parseFloat(event.target.value);
            currentPulseDurationSpan.textContent = T_value.toFixed(1);
            drawFourierTransform();
            if (navigator.vibrate) navigator.vibrate(50); // Vibra√ß√£o sutil
        });

        // Desenha os gr√°ficos inicialmente e ajusta o canvas ao redimensionar a janela
        window.addEventListener('load', () => {
            // Ajusta o tamanho do canvas para ser responsivo
            function resizeCanvas() {
                const parentWidth = canvas.parentElement.clientWidth;
                canvas.width = parentWidth > 800 ? 800 : parentWidth; // Limita a largura m√°xima
                canvas.height = canvas.width * 0.5; // Mant√©m a propor√ß√£o 2:1
                drawFourierTransform();
            }
            resizeCanvas(); // Chama no carregamento
            window.addEventListener('resize', resizeCanvas); // Chama no redimensionamento
        });

        // Intersection Observer para anima√ß√£o de fade-in das se√ß√µes
        const fadeInSections = document.querySelectorAll('.fade-in-section');

        const sectionObserver = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    observer.unobserve(entry.target); // Para de observar uma vez que a se√ß√£o est√° vis√≠vel
                }
            });
        }, { threshold: 0.2 }); // Inicia a anima√ß√£o quando 20% da se√ß√£o est√° vis√≠vel

        fadeInSections.forEach(section => {
            sectionObserver.observe(section);
        });

        // Garante que o canvas seja desenhado quando a se√ß√£o de exemplo √© vis√≠vel (ap√≥s rolagem ou clique)
        const exemploSection = document.getElementById('exemplo');
        const canvasSectionObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    drawFourierTransform();
                }
            });
        }, { threshold: 0.1 }); // Desenha quando 10% da se√ß√£o est√° vis√≠vel

        canvasSectionObserver.observe(exemploSection); // Observa a se√ß√£o de exemplo

        // --- L√≥gica do Quiz ---
        const quizOptions = document.getElementById('quiz-options');
        const quizFeedback = document.getElementById('quiz-feedback');
        const correctSound = new Howl({ src: ['https://www.soundjay.com/buttons/sounds/button-10.mp3'] }); // Som de acerto
        const incorrectSound = new Howl({ src: ['https://www.soundjay.com/buttons/sounds/button-21.mp3'] }); // Som de erro

        quizOptions.addEventListener('click', (event) => {
            const clickedButton = event.target;
            if (clickedButton.tagName === 'BUTTON') {
                // Remove feedback anterior
                quizFeedback.classList.add('hidden');
                quizFeedback.textContent = '';
                document.querySelectorAll('.quiz-option').forEach(btn => {
                    btn.classList.remove('correct', 'incorrect');
                    btn.disabled = false; // Re-habilita para nova tentativa
                });

                if (navigator.vibrate) navigator.vibrate(75); // Vibra√ß√£o para clique no quiz

                const selectedAnswer = clickedButton.dataset.answer;
                const correctAnswer = 'convolucao'; // Resposta correta

                if (selectedAnswer === correctAnswer) {
                    clickedButton.classList.add('correct');
                    quizFeedback.textContent = '‚úÖ Correto! Muito bem!';
                    quizFeedback.classList.remove('hidden');
                    correctSound.play();
                } else {
                    clickedButton.classList.add('incorrect');
                    quizFeedback.textContent = '‚ùå Incorreto. Tente novamente!';
                    quizFeedback.classList.remove('hidden');
                    incorrectSound.play();
                }

                // Desabilita todas as op√ß√µes ap√≥s a resposta
                document.querySelectorAll('.quiz-option').forEach(btn => {
                    btn.disabled = true;
                });

                // Re-habilita ap√≥s um curto per√≠odo para permitir nova tentativa
                setTimeout(() => {
                    document.querySelectorAll('.quiz-option').forEach(btn => {
                        btn.classList.remove('correct', 'incorrect');
                        btn.disabled = false;
                    });
                    quizFeedback.classList.add('hidden');
                }, 2000); // 2 segundos para nova tentativa
            }
        });
    </script>
</body>
</html>
